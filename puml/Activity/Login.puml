@startuml Login
title 登录流程

start

:用户请求登录页面;
:用户输入用户名和密码;

if (前端格式验证) then (无效)
    :显示错误信息\n(用户名3-20位, 密码6-32位);
else (有效)
    :发送凭据到后端;
    :后端验证格式;
    if (格式有效?) then (否)
        :返回错误\n(格式不符);
        stop
    else (是)
        :后端查询用户表;
        
        if (凭据正确?) then (否)
            :返回错误\n(用户名或密码无效);
            :显示错误信息;
        else (是)
            :生成 JWT Token;
            :返回成功响应\n(包含 Token 和用户信息);
            :重定向到仪表盘;
        endif
    endif
endif

stop
@enduml
